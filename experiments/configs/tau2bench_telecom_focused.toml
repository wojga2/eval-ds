# Tau2Bench Telecom - Focused Analysis (First 3 tasks)
# For sample-level failure mode analysis
# Run: ./experiments/scripts/run-telecom-eval.sh --focused

[options]
# Logging - use beedb for storage, disable wandb
beedb = true
wandb = false
log_wandb_project = "eval-ds"
log_samples = true
log_samples_n = -1  # Log all samples for analysis
make_wandb_report = false

# Execution settings
inspect = false
verbose = true
log_every = 0.5
attempts_per_task = 1  # Single attempt for focused analysis
parallel = 2  # Lower parallelism for detailed logging
shuffle_tasks = false  # Keep deterministic order for analysis

# Version and run name
version = "focused_analysis_patch_v2"
log_wandb_run_name = "{date} - Tau2Bench_Telecom_Focused_Patched [{estimators}]"

# Summary metrics
[options.summary_metrics.Tau2Bench_Telecom]
"Tau2BenchTask.Telecom:total_reward" = 1

# Estimator defaults (recommended for reasoning models)
# prod = false means use staging API (CO_API_KEY_STAGING)
[estimator-defaults]
k = 0
p = 0.95
temperature = 0.6
thinking_enabled = true
prod = false  # Use staging API

# Task configuration with preamble patch
[task.Tau2BenchTask.Telecom]
domain = "telecom"
num_runs = 1  # Single run for focused analysis
num_truncate = 3  # ONLY first 3 tasks for analysis
prompt_patches = ["TOOL_CONFUSION_AGENT_VS_USER"]  # List of patch IDs to apply

# Estimator configuration
[estimator.blobheart.focused]
model = "c4-prod-run-1"

